/* You can add global styles to this file, and also import other style files */
* {
  box-sizing: border-box;
}


body { 
  margin: 0; 
  padding: 0; 
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #1a1a1a;
}

#map {
  height: 100vh;
  width: 100%;
  background: #242424; 
}

/* --- ACLARAR EL MAPA --- */
.map-lighter {
  filter: brightness(1.4) contrast(0.85) saturate(0.7) !important;
}

/* --- RESALTAR ICONOS --- */
.leaflet-marker-icon {
  filter: drop-shadow(0 0 8px rgba(212, 175, 55, 0.9)) 
          drop-shadow(0 0 3px rgba(255, 255, 255, 0.4)) !important;
  animation: pulse-gold 2s infinite alternate ease-in-out;
  transition: transform 0.2s ease;
}

.leaflet-marker-icon:hover {
  transform: scale(1.25);
  filter: drop-shadow(0 0 15px rgba(212, 175, 55, 1)) !important;
}

@keyframes pulse-gold {
  from {
    filter: drop-shadow(0 0 5px rgba(212, 175, 55, 0.7));
  }
  to {
    filter: drop-shadow(0 0 12px rgba(212, 175, 55, 1)) 
            brightness(1.2);
  }
}

/* ============================================
   MODAL DE ÉXITO - ESTILOS GLOBALES
   ============================================ */
.success-modal-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  background: rgba(0, 0, 0, 0.9) !important;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  z-index: 999999 !important;
  animation: fadeIn 0.3s ease !important;
}

.success-modal {
  background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%) !important;
  border: 3px solid #d4af37 !important;
  border-radius: 20px !important;
  padding: 36px 28px !important;
  text-align: center !important;
  max-width: 420px !important;
  width: 90% !important;
  max-height: 90vh !important;
  overflow-y: auto !important;
  box-shadow: 0 10px 40px rgba(212, 175, 55, 0.5) !important;
  animation: slideUp 0.4s ease !important;
  position: relative !important;
  z-index: 1000000 !important;
}

.success-emoji {
  font-size: 70px !important;
  margin-bottom: 16px !important;
  animation: bounce 0.6s ease !important;
}

.success-title {
  color: #d4af37 !important;
  font-size: 28px !important;
  font-weight: bold !important;
  margin: 0 0 8px 0 !important;
}

.success-subtitle {
  color: #ffffff !important;
  font-size: 15px !important;
  margin: 4px 0 !important;
}

.success-mystery-title {
  color: #d4af37 !important;
  font-size: 20px !important;
  font-weight: bold !important;
  margin: 12px 0 !important;
}

.success-points {
  background: #d4af37 !important;
  color: #1a1a1a !important;
  font-size: 26px !important;
  font-weight: bold !important;
  padding: 13px 28px !important;
  border-radius: 10px !important;
  margin: 16px 0 !important;
  display: inline-block !important;
}

.success-close-btn {
  background: transparent !important;
  border: 2px solid #d4af37 !important;
  color: #d4af37 !important;
  padding: 11px 36px !important;
  border-radius: 10px !important;
  font-size: 15px !important;
  font-weight: bold !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
  margin-top: 8px !important;
}

.success-close-btn:hover {
  background: #d4af37 !important;
  color: #1a1a1a !important;
  transform: scale(1.05) !important;
}

@keyframes fadeIn {
  from { 
    opacity: 0; 
  }
  to { 
    opacity: 1; 
  }
}

@keyframes slideUp {
  from {
    transform: translateY(100px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes bounce {
  0%, 100% { 
    transform: scale(1); 
  }
  25% { 
    transform: scale(1.1); 
  }
  50% { 
    transform: scale(1.2); 
  }
  75% { 
    transform: scale(1.1); 
  }
}

.leaflet-container {
  z-index: 1 !important;
}

.score-container {
  position: fixed !important;
  top: 20px !important;
  right: 20px !important;
  background: rgba(0, 0, 0, 0.8) !important;
  color: #d4af37 !important;
  padding: 10px 20px !important;
  border-radius: 10px !important;
  font-size: 18px !important;
  font-weight: bold !important;
  z-index: 10000 !important;
  border: 2px solid #d4af37 !important;
}

/* ============================================
   MEDIA QUERIES - RESPONSIVE DESIGN
   ============================================ */

/* Teléfonos plegables pequeños (Galaxy Z Fold cerrado, etc.) */
@media (max-width: 350px) {
  .success-modal {
    width: 95% !important;
    padding: 22px 14px !important;
    max-height: 92vh !important;
  }

  .success-emoji {
    font-size: 48px !important;
    margin-bottom: 12px !important;
  }

  .success-title {
    font-size: 20px !important;
  }

  .success-subtitle {
    font-size: 12px !important;
  }

  .success-mystery-title {
    font-size: 15px !important;
    margin: 10px 0 !important;
  }

  .success-points {
    font-size: 19px !important;
    padding: 9px 18px !important;
    margin: 12px 0 !important;
  }

  .success-close-btn {
    padding: 9px 22px !important;
    font-size: 13px !important;
  }

  .score-container {
    top: 10px !important;
    right: 10px !important;
    padding: 8px 12px !important;
    font-size: 14px !important;
  }

  .leaflet-marker-icon {
    transform: scale(0.8);
  }
}

/* Teléfonos pequeños y plegables abiertos (350px - 480px) */
@media (min-width: 351px) and (max-width: 480px) {
  .success-modal {
    width: 92% !important;
    padding: 26px 18px !important;
    max-height: 91vh !important;
  }

  .success-emoji {
    font-size: 56px !important;
    margin-bottom: 14px !important;
  }

  .success-title {
    font-size: 24px !important;
  }

  .success-subtitle {
    font-size: 13px !important;
  }

  .success-mystery-title {
    font-size: 17px !important;
    margin: 11px 0 !important;
  }

  .success-points {
    font-size: 21px !important;
    padding: 11px 22px !important;
    margin: 14px 0 !important;
  }

  .success-close-btn {
    padding: 10px 28px !important;
    font-size: 14px !important;
  }

  .score-container {
    top: 12px !important;
    right: 12px !important;
    padding: 8px 15px !important;
    font-size: 15px !important;
  }
}

/* Teléfonos estándar (iPhone, Android) - 481px a 767px */
@media (min-width: 481px) and (max-width: 767px) {
  .success-modal {
    width: 90% !important;
    padding: 30px 22px !important;
    max-height: 90vh !important;
  }

  .success-emoji {
    font-size: 64px !important;
  }

  .success-title {
    font-size: 26px !important;
  }

  .success-subtitle {
    font-size: 14px !important;
  }

  .success-mystery-title {
    font-size: 19px !important;
  }

  .success-points {
    font-size: 23px !important;
    padding: 12px 26px !important;
  }

  .success-close-btn {
    padding: 10px 32px !important;
    font-size: 14px !important;
  }

  .score-container {
    top: 15px !important;
    right: 15px !important;
    padding: 9px 16px !important;
    font-size: 16px !important;
  }
}

/* Tablets verticales y teléfonos grandes (768px - 820px) */
@media (min-width: 768px) and (max-width: 820px) {
  .success-modal {
    max-width: 460px !important;
    padding: 34px 26px !important;
    max-height: 89vh !important;
  }

  .success-emoji {
    font-size: 68px !important;
  }

  .success-title {
    font-size: 28px !important;
  }

  .success-subtitle {
    font-size: 15px !important;
  }

  .success-mystery-title {
    font-size: 20px !important;
  }

  .success-points {
    font-size: 25px !important;
    padding: 13px 28px !important;
  }

  .score-container {
    top: 18px !important;
    right: 18px !important;
    padding: 10px 18px !important;
    font-size: 17px !important;
  }
}

/* Tablets horizontales e iPads (821px - 1024px) */
@media (min-width: 821px) and (max-width: 1024px) {
  .success-modal {
    max-width: 500px !important;
    padding: 38px 30px !important;
    max-height: 88vh !important;
  }

  .success-emoji {
    font-size: 76px !important;
  }

  .success-title {
    font-size: 30px !important;
  }

  .success-subtitle {
    font-size: 16px !important;
  }

  .success-mystery-title {
    font-size: 21px !important;
  }

  .success-points {
    font-size: 28px !important;
    padding: 14px 30px !important;
  }

  .score-container {
    top: 20px !important;
    right: 20px !important;
    padding: 11px 20px !important;
    font-size: 18px !important;
  }
}

/* Laptops y pantallas grandes (1025px+) */
@media (min-width: 1025px) {
  .success-modal {
    max-width: 540px !important;
    max-height: 87vh !important;
  }

  .score-container {
    top: 25px !important;
    right: 25px !important;
  }
}

/* Orientación horizontal - Ajustes específicos */
@media (orientation: landscape) and (max-height: 500px) {
  .success-modal {
    padding: 16px 22px !important;
    max-height: 92vh !important;
    overflow-y: auto !important;
  }

  .success-emoji {
    font-size: 42px !important;
    margin-bottom: 8px !important;
  }

  .success-title {
    font-size: 19px !important;
    margin-bottom: 4px !important;
  }

  .success-subtitle {
    font-size: 12px !important;
    margin: 3px 0 !important;
  }

  .success-mystery-title {
    font-size: 16px !important;
    margin: 7px 0 !important;
  }

  .success-points {
    font-size: 18px !important;
    padding: 7px 18px !important;
    margin: 8px 0 !important;
  }

  .success-close-btn {
    padding: 7px 22px !important;
    font-size: 13px !important;
    margin-top: 6px !important;
  }
}

/* Orientación horizontal - altura media */
@media (orientation: landscape) and (min-height: 501px) and (max-height: 800px) {
  .success-modal {
    max-height: 88vh !important;
    padding: 28px 24px !important;
  }

  .success-emoji {
    font-size: 60px !important;
  }

  .success-title {
    font-size: 24px !important;
  }
}

/* ============================================
   AÑADIR A src/styles.scss (estilos GLOBALES)
   Los marcadores de Leaflet están fuera del
   componente Angular, por eso necesitan CSS global
   ============================================ */

/* ✅ CANDADO SALTANDO - Dentro del radio de desbloqueo */
.marker-bounce {
  animation: marker-bounce 0.8s cubic-bezier(0.36, 0.07, 0.19, 0.97) infinite;
  transform-origin: center bottom;
  display: block;
  filter: drop-shadow(0 4px 8px rgba(212, 175, 55, 0.7));
}

@keyframes marker-bounce {
  0%, 100% {
    transform: translateY(0) scale(1);
  }
  20% {
    transform: translateY(-10px) scale(1.08);
  }
  40% {
    transform: translateY(0) scale(0.96);
  }
  60% {
    transform: translateY(-5px) scale(1.03);
  }
  80% {
    transform: translateY(0) scale(1);
  }
}
